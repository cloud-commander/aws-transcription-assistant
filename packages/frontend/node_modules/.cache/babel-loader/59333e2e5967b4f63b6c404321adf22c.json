{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Md5 = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\n\nvar constants_1 = require(\"./constants\");\n\nvar Md5 =\n/** @class */\nfunction () {\n  function Md5() {\n    this.state = Uint32Array.from(constants_1.INIT);\n    this.buffer = new DataView(new ArrayBuffer(constants_1.BLOCK_SIZE));\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    this.finished = false;\n  }\n\n  Md5.prototype.update = function (sourceData) {\n    if (isEmptyData(sourceData)) {\n      return;\n    } else if (this.finished) {\n      throw new Error(\"Attempted to update an already finished hash.\");\n    }\n\n    var data = convertToBuffer(sourceData);\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n\n    while (byteLength > 0) {\n      this.buffer.setUint8(this.bufferLength++, data[position++]);\n      byteLength--;\n\n      if (this.bufferLength === constants_1.BLOCK_SIZE) {\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n    }\n  };\n\n  Md5.prototype.digest = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var _a, buffer, undecoratedLength, bytesHashed, bitsHashed, i, i, out, i;\n\n      return tslib_1.__generator(this, function (_b) {\n        if (!this.finished) {\n          _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n          bitsHashed = bytesHashed * 8;\n          buffer.setUint8(this.bufferLength++, 128); // Ensure the final block has enough room for the hashed length\n\n          if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n            for (i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n              buffer.setUint8(i, 0);\n            }\n\n            this.hashBuffer();\n            this.bufferLength = 0;\n          }\n\n          for (i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n            buffer.setUint8(i, 0);\n          }\n\n          buffer.setUint32(constants_1.BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n          buffer.setUint32(constants_1.BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n          this.hashBuffer();\n          this.finished = true;\n        }\n\n        out = new DataView(new ArrayBuffer(constants_1.DIGEST_LENGTH));\n\n        for (i = 0; i < 4; i++) {\n          out.setUint32(i * 4, this.state[i], true);\n        }\n\n        return [2\n        /*return*/\n        , new Uint8Array(out.buffer, out.byteOffset, out.byteLength)];\n      });\n    });\n  };\n\n  Md5.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n\n    var a = state[0],\n        b = state[1],\n        c = state[2],\n        d = state[3];\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n    state[0] = a + state[0] & 0xffffffff;\n    state[1] = b + state[1] & 0xffffffff;\n    state[2] = c + state[2] & 0xffffffff;\n    state[3] = d + state[3] & 0xffffffff;\n  };\n\n  return Md5;\n}();\n\nexports.Md5 = Md5;\n\nfunction cmn(q, a, b, x, s, t) {\n  a = (a + q & 0xffffffff) + (x + t & 0xffffffff) & 0xffffffff;\n  return (a << s | a >>> 32 - s) + b & 0xffffffff;\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n  return cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n  return cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction isEmptyData(data) {\n  if (typeof data === \"string\") {\n    return data.length === 0;\n  }\n\n  return data.byteLength === 0;\n}\n\nfunction convertToBuffer(data) {\n  if (typeof data === \"string\") {\n    return util_utf8_browser_1.fromUtf8(data);\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n  }\n\n  return new Uint8Array(data);\n}","map":{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { Hash, SourceData } from \"@aws-sdk/types\";\nimport { fromUtf8 } from \"@aws-sdk/util-utf8-browser\";\n\nimport { BLOCK_SIZE, DIGEST_LENGTH, INIT } from \"./constants\";\n\nexport class Md5 implements Hash {\n  private state = Uint32Array.from(INIT);\n  private buffer: DataView = new DataView(new ArrayBuffer(BLOCK_SIZE));\n  private bufferLength = 0;\n  private bytesHashed = 0;\n  private finished = false;\n\n  update(sourceData: SourceData): void {\n    if (isEmptyData(sourceData)) {\n      return;\n    } else if (this.finished) {\n      throw new Error(\"Attempted to update an already finished hash.\");\n    }\n\n    const data = convertToBuffer(sourceData);\n\n    let position = 0;\n    let { byteLength } = data;\n    this.bytesHashed += byteLength;\n\n    while (byteLength > 0) {\n      this.buffer.setUint8(this.bufferLength++, data[position++]);\n      byteLength--;\n\n      if (this.bufferLength === BLOCK_SIZE) {\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n    }\n  }\n\n  async digest(): Promise<Uint8Array> {\n    if (!this.finished) {\n      const { buffer, bufferLength: undecoratedLength, bytesHashed } = this;\n      const bitsHashed = bytesHashed * 8;\n      buffer.setUint8(this.bufferLength++, 0b10000000);\n\n      // Ensure the final block has enough room for the hashed length\n      if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n        for (let i = this.bufferLength; i < BLOCK_SIZE; i++) {\n          buffer.setUint8(i, 0);\n        }\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n\n      for (let i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n        buffer.setUint8(i, 0);\n      }\n      buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n      buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n\n      this.hashBuffer();\n\n      this.finished = true;\n    }\n\n    const out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n    for (let i = 0; i < 4; i++) {\n      out.setUint32(i * 4, this.state[i], true);\n    }\n\n    return new Uint8Array(out.buffer, out.byteOffset, out.byteLength);\n  }\n\n  private hashBuffer(): void {\n    const { buffer, state } = this;\n\n    let a = state[0],\n      b = state[1],\n      c = state[2],\n      d = state[3];\n\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n\n    state[0] = (a + state[0]) & 0xffffffff;\n    state[1] = (b + state[1]) & 0xffffffff;\n    state[2] = (c + state[2]) & 0xffffffff;\n    state[3] = (d + state[3]) & 0xffffffff;\n  }\n}\n\nfunction cmn(q: number, a: number, b: number, x: number, s: number, t: number) {\n  a = (((a + q) & 0xffffffff) + ((x + t) & 0xffffffff)) & 0xffffffff;\n  return (((a << s) | (a >>> (32 - s))) + b) & 0xffffffff;\n}\n\nfunction ff(a: number, b: number, c: number, d: number, x: number, s: number, t: number) {\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\n\nfunction gg(a: number, b: number, c: number, d: number, x: number, s: number, t: number) {\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\n\nfunction hh(a: number, b: number, c: number, d: number, x: number, s: number, t: number) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a: number, b: number, c: number, d: number, x: number, s: number, t: number) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction isEmptyData(data: SourceData): boolean {\n  if (typeof data === \"string\") {\n    return data.length === 0;\n  }\n\n  return data.byteLength === 0;\n}\n\nfunction convertToBuffer(data: SourceData): Uint8Array {\n  if (typeof data === \"string\") {\n    return fromUtf8(data);\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n  }\n\n  return new Uint8Array(data);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}